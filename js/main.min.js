$(document).ready(function(){$("#form_newpersonnel").submit(function(e){e.preventDefault();var t=($(this),{firstname:String($("#firstname").val()),lastname:String($("#lastname").val()),policeid:String($("#policeid").val()),emailaddress:String($("#emailaddress").val()),role:String($("#role").val())}),n=[],a=!0;$.each(t,function(e,t){n.push(e+"="+escape(t)),0===t.trim().length&&(a=!1)}),a&&$.post("executenewpersonnel",n.join("&"),function(e){var e=JSON.parse(e);console.log(e)})}),$("#form_login").submit(function(e){e.preventDefault();var t=($(this),{policeid:String($("#policeid").val()),secret:String($("#secret").val())}),n=[],a=!0;$.each(t,function(e,t){n.push(e+"="+escape(t)),0===t.trim().length&&(a=!1)}),a&&$.post("executelogin",n.join("&"),function(e){var e=JSON.parse(e);console.log(e)})}),$("button.deactivate-personnel").each(function(){var e=$(this),t=String(e.data("personnel")),n="deactivate-personnel=true&ref="+escape(t);$(this).click(function(e){e.preventDefault(),$.post("executepersonnel",n,function(e){e=JSON.parse(e),console.log(e)})})}),$("button.activate-personnel").each(function(){var e=$(this),t=String(e.data("personnel")),n="activate-personnel=true&ref="+escape(t);$(this).click(function(e){e.preventDefault(),$.post("executepersonnel",n,function(e){e=JSON.parse(e),console.log(e)})})}),$("button.delete-personnel").each(function(){var e=$(this),t=String(e.data("personnel")),n="delete-personnel=true&ref="+escape(t);$(this).click(function(e){e.preventDefault(),$.post("executepersonnel",n,function(e){e=JSON.parse(e),console.log(e)})})}),$("#form_newentry").submit(function(e){e.preventDefault();var t=($(this),{firstname:String($("#firstname").val()),lastname:String($("#lastname").val()),othername:String($("#othername").val()),dob:String($("#dob").val()),sex:String($("#sex").val()),phonenumber:String($("#phonenumber").val()),emailaddress:String($("#emailaddress").val()),homeaddress:String($("#homeaddress").val()),occupation:String($("#occupation").val()),workplace:String($("#workplace").val()),workaddress:String($("#workaddress").val()),image1:String($("#image1").val()),image2:String($("#image2").val())}),n=[],a=!0;$.each(t,function(e,t){n.push(e+"="+escape(t)),0===t.trim().length&&(a=!1)}),a&&$.post("executenewentry",n.join("&"),function(e){var e=JSON.parse(e);console.log(e)})}),$("button.edit-entry").each(function(){var e=$(this),t=String(e.data("entry")),n="edit-entry=true&ref="+escape(t);$(this).click(function(e){e.preventDefault(),$.post("executeeditentry",n,function(e){e=JSON.parse(e),$('#form_editentry input[name="othername"]').val(e.Othername),$('#form_editentry input[name="dob"]').val(e.DOB),$('#form_editentry input[name="phonenumber"]').val(e.Phonenumber),$('#form_editentry input[name="emailaddress"]').val(e.EmailAddress),$('#form_editentry input[name="homeaddress"]').val(e.HomeAddress),$('#form_editentry input[name="occupation"]').val(e.Occupation),$('#form_editentry input[name="workplace"]').val(e.WorkPlace),$('#form_editentry input[name="workaddress"]').val(e.WorkAddress),$("#form_editentry button").attr("data-id",e.UniqueID)})})}),$("#form_editentry").submit(function(e){e.preventDefault();var t=($(this),String($("#form_editentry button").data("id"))),n={othername:String($("#othername").val()),dob:String($("#dob").val()),phonenumber:String($("#phonenumber").val()),emailaddress:String($("#emailaddress").val()),homeaddress:String($("#homeaddress").val()),occupation:String($("#occupation").val()),workplace:String($("#workplace").val()),workaddress:String($("#workaddress").val()),id:escape(t)},a=[],r=!0;$.each(n,function(e,t){a.push(e+"="+escape(t)),0===t.trim().length&&(r=!1)}),r&&$.post("executeeditentry",a.join("&"),function(e){var e=JSON.parse(e);console.log(e)})}),$("button.train-album").each(function(){var e=$(this),t=String(e.data("entry"));$(this).click(function(e){e.preventDefault(),$("#form_trainalbum").append('<input type="hidden" class="entryid" name="entryid" value="'+t+'" />')})});var e=10,t=$(".imageurl_fields"),n=$(".addimage_field"),a=1;$(n).click(function(n){n.preventDefault(),e>a&&(a++,$(t).append('<div><input type="text" placeholder="Image URL" class="imageurlfield" name="imageURL[]" /><a href="#" class="removeimage_field">Remove</a></div>'))}),$(t).on("click",".removeimage_field",function(e){e.preventDefault(),$(this).parent("div").remove(),a--}),$("#form_trainalbum").submit(function(e){e.preventDefault();var t=($(this),[]),n=[],a=!0;$.each($('#form_trainalbum input[class="imageurlfield"]'),function(){t.push(escape($(this).val())),0===$(this).val().trim().length&&(a=!1)}),n.id=String($('#form_trainalbum input[name="entryid"]').val()),n.dataset=t,a&&$.post("executetrain","data="+escape(JSON.stringify(n)),function(e){var e=JSON.parse(e);console.log(e)})})});